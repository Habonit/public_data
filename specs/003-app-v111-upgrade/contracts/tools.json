{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Data Analysis Tools Schema",
  "description": "v1.1.1 앱용 15개 데이터 분석 도구 스키마 정의",
  "version": "1.0.0",
  "tools": [
    {
      "name": "get_dataframe_info",
      "description": "DataFrame 기본 정보를 반환합니다. 행/열 수, 컬럼명, 데이터 타입을 포함합니다.",
      "input_schema": {
        "type": "object",
        "properties": {},
        "required": []
      }
    },
    {
      "name": "get_column_statistics",
      "description": "특정 수치형 컬럼의 통계 정보를 반환합니다. 평균, 중앙값, 표준편차, 최소/최대값 등을 포함합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "column": {
            "type": "string",
            "description": "통계를 계산할 컬럼명"
          }
        },
        "required": ["column"]
      }
    },
    {
      "name": "get_missing_values",
      "description": "각 컬럼별 결측치 개수와 비율을 분석하여 반환합니다.",
      "input_schema": {
        "type": "object",
        "properties": {},
        "required": []
      }
    },
    {
      "name": "get_value_counts",
      "description": "범주형 컬럼의 값별 개수를 반환합니다. 상위 N개만 표시할 수 있습니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "column": {
            "type": "string",
            "description": "값 분포를 확인할 컬럼명"
          },
          "top_n": {
            "type": "integer",
            "description": "상위 N개만 표시 (기본값: 20)",
            "default": 20
          }
        },
        "required": ["column"]
      }
    },
    {
      "name": "filter_dataframe",
      "description": "주어진 조건에 맞는 행만 필터링하여 결과를 반환합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "column": {
            "type": "string",
            "description": "필터링할 컬럼명"
          },
          "operator": {
            "type": "string",
            "enum": ["==", "!=", ">", "<", ">=", "<=", "contains"],
            "description": "비교 연산자"
          },
          "value": {
            "oneOf": [
              {"type": "string"},
              {"type": "number"}
            ],
            "description": "비교할 값"
          }
        },
        "required": ["column", "operator", "value"]
      }
    },
    {
      "name": "sort_dataframe",
      "description": "특정 컬럼을 기준으로 데이터를 정렬하여 상위 결과를 반환합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "column": {
            "type": "string",
            "description": "정렬 기준 컬럼명"
          },
          "ascending": {
            "type": "boolean",
            "description": "오름차순 정렬 여부 (기본값: true)",
            "default": true
          },
          "top_n": {
            "type": "integer",
            "description": "반환할 행 수 (기본값: 10)",
            "default": 10
          }
        },
        "required": ["column"]
      }
    },
    {
      "name": "get_correlation",
      "description": "수치형 컬럼들 간의 상관관계를 분석하여 상관계수 행렬을 반환합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "columns": {
            "type": "array",
            "items": {"type": "string"},
            "description": "상관관계를 분석할 컬럼 목록 (비어있으면 모든 수치형 컬럼)"
          }
        },
        "required": []
      }
    },
    {
      "name": "group_by_aggregate",
      "description": "특정 컬럼을 기준으로 그룹화하고 집계 연산을 수행합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "group_column": {
            "type": "string",
            "description": "그룹화 기준 컬럼명"
          },
          "agg_column": {
            "type": "string",
            "description": "집계할 컬럼명"
          },
          "operation": {
            "type": "string",
            "enum": ["sum", "mean", "count", "min", "max", "median", "std"],
            "description": "집계 연산 종류"
          }
        },
        "required": ["group_column", "agg_column", "operation"]
      }
    },
    {
      "name": "get_unique_values",
      "description": "특정 컬럼의 고유값 목록과 개수를 반환합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "column": {
            "type": "string",
            "description": "고유값을 확인할 컬럼명"
          }
        },
        "required": ["column"]
      }
    },
    {
      "name": "get_date_range",
      "description": "날짜 컬럼의 최소/최대 날짜와 기간을 분석하여 반환합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "column": {
            "type": "string",
            "description": "날짜 컬럼명"
          }
        },
        "required": ["column"]
      }
    },
    {
      "name": "get_outliers",
      "description": "IQR(사분위수 범위) 기반으로 이상치를 탐지하여 반환합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "column": {
            "type": "string",
            "description": "이상치를 탐지할 수치형 컬럼명"
          },
          "multiplier": {
            "type": "number",
            "description": "IQR 배수 (기본값: 1.5)",
            "default": 1.5
          }
        },
        "required": ["column"]
      }
    },
    {
      "name": "get_sample_rows",
      "description": "데이터에서 샘플 행을 추출하여 반환합니다. 조건을 지정할 수 있습니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "n": {
            "type": "integer",
            "description": "추출할 샘플 수 (기본값: 5)",
            "default": 5
          },
          "column": {
            "type": "string",
            "description": "조건을 적용할 컬럼명 (선택)"
          },
          "value": {
            "oneOf": [
              {"type": "string"},
              {"type": "number"}
            ],
            "description": "필터링할 값 (선택)"
          }
        },
        "required": []
      }
    },
    {
      "name": "calculate_percentile",
      "description": "수치형 컬럼에서 특정 백분위수 값을 계산합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "column": {
            "type": "string",
            "description": "백분위수를 계산할 컬럼명"
          },
          "percentile": {
            "type": "number",
            "description": "계산할 백분위수 (0-100)",
            "minimum": 0,
            "maximum": 100
          }
        },
        "required": ["column", "percentile"]
      }
    },
    {
      "name": "get_geo_bounds",
      "description": "위경도 데이터의 지리적 범위(최소/최대 위도, 경도)를 반환합니다.",
      "input_schema": {
        "type": "object",
        "properties": {},
        "required": []
      }
    },
    {
      "name": "cross_tabulation",
      "description": "두 범주형 컬럼 간의 교차표(빈도표)를 생성합니다.",
      "input_schema": {
        "type": "object",
        "properties": {
          "row_column": {
            "type": "string",
            "description": "행(row)으로 사용할 컬럼명"
          },
          "col_column": {
            "type": "string",
            "description": "열(column)으로 사용할 컬럼명"
          },
          "normalize": {
            "type": "boolean",
            "description": "비율로 정규화 여부 (기본값: false)",
            "default": false
          }
        },
        "required": ["row_column", "col_column"]
      }
    }
  ]
}
